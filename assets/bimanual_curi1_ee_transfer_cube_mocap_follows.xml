<mujoco>
    <include file="scene.xml"/>
    <include file="curi1_dependencies.xml"/>
    <equality>
        <weld body1="mocap_left" body2="l_rmg42_base_link" solref="0.02 1" solimp="0.25 0.5 0.01" />
        <weld body1="mocap_right" body2="r_rmg42_base_link" solref="0.02 1" solimp="0.25 0.5 0.01" />
    </equality>


    <worldbody>
        <!-- <include file="curi1_left.xml" />
        <include file="curi1_right.xml" /> -->
        <include file="curi1.xml" />

        <body mocap="true" name="mocap_left" pos="0.42 -0.53 0.65">
            <site pos="0 0 0" size="0.003 0.003 0.03" type="box" name="mocap_left_site1" rgba="1 0 0 1"/>
            <site pos="0 0 0" size="0.003 0.03 0.003" type="box" name="mocap_left_site2" rgba="1 0 0 1"/>
            <site pos="0 0 0" size="0.03 0.003 0.003" type="box" name="mocap_left_site3" rgba="1 0 0 1"/>
        </body>
        <body mocap="true" name="mocap_right" pos="-0.42 -0.53 0.65">
            <site pos="0 0 0" size="0.003 0.003 0.03" type="box" name="mocap_right_site1" rgba="1 0 0 1"/>
            <site pos="0 0 0" size="0.003 0.03 0.003" type="box" name="mocap_right_site2" rgba="1 0 0 1"/>
            <site pos="0 0 0" size="0.03 0.003 0.003" type="box" name="mocap_right_site3" rgba="1 0 0 1"/>
        </body>

        <body name="box" pos="0 -0.5 0.57">
            <joint name="red_box_joint" type="free" frictionloss="0.01" />
            <inertial pos="0 0 0" mass="0.05" diaginertia="0.002 0.002 0.002" />
            <geom condim="4" solimp="2 1 0.01" solref="0.01 1" friction="1 0.005 0.0001" pos="0 0 0" size="0.02 0.02 0.02" type="box" name="red_box" rgba="1 0 0 1" />
        </body>

    </worldbody>

    <actuator>
        <position ctrllimited="true" ctrlrange="0.021 0.057" joint="Joint_finger1" kp="200"  user="1"/>
        <position ctrllimited="true" ctrlrange="-0.057 -0.021" joint="Joint_finger2" kp="200"  user="1"/>

        <position ctrllimited="true" ctrlrange="0.021 0.057" joint="r_Joint_finger1" kp="200"  user="1"/>
        <position ctrllimited="true" ctrlrange="-0.057 -0.021" joint="r_Joint_finger2" kp="200"  user="1"/>

    </actuator>

    <!-- <keyframe>
        <key name="initial_pose" 
             qpos="0.05
                   0
                   0
                   -0.785 -0.785 -1.57 1 1 0 0.01 0.01
                   0.785 0.785 1.57 -1 -1 0 0.01 0.01
                   0 -0.8 0.26 1 0 0 0"/> 
    </keyframe> -->

    <keyframe>
        <key name="initial_pose" 
             qpos="-0.785 -0.785 -1.57 1 1 0 0.01 0.01
                   0.785 0.785 1.57 -1 -1 0 0.01 0.01
                   0 -0.5 0.57 1 0 0 0"/> 
    </keyframe>


</mujoco>